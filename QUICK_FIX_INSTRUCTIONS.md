# ๐ ุชุนูููุงุช ุณุฑูุนุฉ: ุฅุตูุงุญ ูุดููุฉ ุงูุชุญูู ูู ุฑูู ุงููุงุชู

## โก ุงูุญู ุงูุณุฑูุน (5 ุฏูุงุฆู)

### ุงูุฎุทูุฉ 1: ุงูุชุญ Supabase SQL Editor
ุงูุชูู ุฅูู: **Supabase Dashboard โ SQL Editor**

### ุงูุฎุทูุฉ 2: ููุฐ ุงููููุงุช ุจุงูุชุฑุชูุจ

#### **ุฃููุงู**: ููุฐ ูุฐุง ุงูููุฏ
```sql
-- ูุณุฎ ูุญุชูู ููู: 043_fix_phone_validation_critical.sql
```
ุงูุตู ูุญุชูู ุงูููู `supabase/migrations/043_fix_phone_validation_critical.sql` ูุงุถุบุท **Run**

#### **ุซุงููุงู**: ููุฐ ูุฐุง ุงูููุฏ
```sql
-- ูุณุฎ ูุญุชูู ููู: 044_normalize_existing_phone_numbers.sql
```
ุงูุตู ูุญุชูู ุงูููู `supabase/migrations/044_normalize_existing_phone_numbers.sql` ูุงุถุบุท **Run**

### ุงูุฎุทูุฉ 3: ุงุฎุชุจุฑ ุงููุธุงู
1. ุงูุชุญ `booking.html?token=xxx`
2. ุฃุฏุฎู ุฃู ุฑูู ุจุฃู ุตูุบุฉ
3. ูุฌุจ ุฃู ูุนูู ุจูุฌุงุญ โ

---

## ๐ ุงูุชุญูู ุงูุณุฑูุน

ููุฐ ูุฐุง ุงูุงุณุชุนูุงู ููุชุฃูุฏ ูู ูุฌุงุญ ุงูุฅุตูุงุญ:

```sql
-- ุงุฎุชุจุงุฑ ุชูุญูุฏ ุงูุฃุฑูุงู
SELECT 
    normalize_phone('0582077204') as test1,
    normalize_phone('058 207 7204') as test2,
    normalize_phone('+966582077204') as test3,
    normalize_phone('582077204') as test4;
```

**ุงููุชูุฌุฉ ุงููุชููุนุฉ**: ุฌููุน ุงูุฃุนูุฏุฉ ุชุญุชูู ุนูู `0582077204`

---

## โ ุฅุฐุง ูู ูุนูู

### ุชุญูู ูู:
1. โ ุชู ุชูููุฐ ุงูููููู ุจุงูุชุฑุชูุจ ุงูุตุญูุญ
2. โ ูุง ุชูุฌุฏ ุฃุฎุทุงุก ูู SQL Editor
3. โ ุชู ุชุญุฏูุซ ุงูุตูุญุฉ (Ctrl+F5)

### ุงุฎุชุจุงุฑ ุงูุฏุงูุฉ ูุฏููุงู:
```sql
-- ุงุฎุชุจุฑ ุจุฑูู ููุฌูุฏ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
SELECT * FROM validate_phone_for_booking(
    '0582077204',  -- ุถุน ุฑูู ููุฌูุฏ
    'session-uuid'  -- ุถุน UUID ุฌูุณุฉ ููุฌูุฏุฉ
);
```

---

## ๐ ููุฎุต ุงููุดููุฉ

**ุงููุดููุฉ**: ุงูุฏุงูุฉ `validate_phone_for_booking` ูุงูุช ุชูุงุฑู ุงูุฃุฑูุงู ูุจุงุดุฑุฉ ุจุฏูู ุชูุญูุฏ ุงูุตูุบุฉ

**ุงูุญู**: ุงุณุชุฎุฏุงู `normalize_phone()` ูุชูุญูุฏ ุงูุฃุฑูุงู ูุจู ุงูููุงุฑูุฉ

**ุงููุชูุฌุฉ**: ุฌููุน ุตูุบ ุงูุฃุฑูุงู ุชุนูู ุงูุขู:
- `0582077204` โ
- `058 207 7204` โ
- `+966582077204` โ
- `582077204` โ

---

ููุชูุงุตูู ุงููุงููุฉุ ุฑุงุฌุน: `PHONE_VALIDATION_FIX_REPORT.md`
