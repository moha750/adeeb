# ูุธุงู ุงูุงุณุชุจูุงูุงุช ุงููุชูุฏู - ูุงุฏู ุฃุฏููุจ

## ๐ ูุธุฑุฉ ุนุงูุฉ

ูุธุงู ุงุณุชุจูุงูุงุช ูุชูุฏู ููุฑู ุชู ุชุตูููู ุฎุตูุตุงู ููุงุฏู ุฃุฏููุจ ูุจุฏูู ูุชููู ูู Google Forms. ูููุฑ ุงููุธุงู ุชุญููุงู ูุงููุงูุ ูุฑููุฉ ุนุงููุฉุ ูุชูุงููุงู ุณูุณุงู ูุน ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงูุญุงููุฉ.

## โจ ุงููููุฒุงุช ุงูุฑุฆูุณูุฉ

### ๐ฏ ูุฑููุฉ ูุงููุฉ
- **25+ ููุน ุณุคุงู** ูุฏุนูู (ูุตุ ุงุฎุชูุงุฑุงุชุ ุชููููุงุชุ ููุงููุณุ ุชูุงุฑูุฎุ ูุบูุฑูุง)
- **ุชุตููู ูุณุชูู** ุบูุฑ ูููุฏ ุจุฃู ุณูุงุณุงุช ุฃู ููุงูู ุฅุฏุงุฑูุฉ ุญุงููุงู
- **ูุงุจู ููุชูุณุน** ูุณุชูุจูุงู ููุฑุจุท ุจุงููุฌุงู ูุงูุตูุงุญูุงุช ูุงููุฑุงุญู

### ๐จ ูุงุฌูุฉ ุงุญุชุฑุงููุฉ
- **ููุญุฉ ุชุญูู ูุชูุงููุฉ** ูุน Drop Menu ูุทุงุจู ููุฃูุธูุฉ ุงูููุฌูุฏุฉ
- **ูุงุฌูุฉ ูุณุชุฎุฏู ูุธููุฉ** ูุชูุงููุฉ ูุน ูููุฉ ูุงุฏู ุฃุฏููุจ
- **ุชุตููู ูุชุฌุงูุจ** ูุนูู ุนูู ุฌููุน ุงูุฃุฌูุฒุฉ (ุฌูุงูุ ุชุงุจูุชุ ุณุทุญ ููุชุจ)

### ๐ ุฅุญุตุงุฆูุงุช ูุชุญูููุงุช
- **ุชูุงุฑูุฑ ุดุงููุฉ** ูุฌููุน ุงูุงุณุชุฌุงุจุงุช
- **ูุนุฏูุงุช ุงูุฅููุงู** ูุงูุชูุฏู
- **ุชุญูููุงุช ูุฑุฆูุฉ** ูููุชุงุฆุฌ (ุฑุณูู ุจูุงููุฉุ ูุณุจ ูุฆููุฉ)
- **ุชุตุฏูุฑ ุงูุจูุงูุงุช** ููุชุญููู ุงููุชูุฏู

### ๐ ุฃูุงู ูุฎุตูุตูุฉ
- **Row Level Security (RLS)** ุนูู ุฌููุน ุงูุฌุฏุงูู
- **ุฎูุงุฑุงุช ูุตูู ูุชุนุฏุฏุฉ** (ุนุงูุ ูุตุงุฏูุ ุฃุนุถุงุก ููุท)
- **ุฅุฌุงุจุงุช ูุฌูููุฉ** ุงุฎุชูุงุฑูุฉ
- **ุชุชุจุน ูุงูู** ููุงุณุชุฌุงุจุงุช ูุงูุชุบููุฑุงุช

## ๐๏ธ ูููู ูุงุนุฏุฉ ุงูุจูุงูุงุช

### ุงูุฌุฏุงูู ุงูุฑุฆูุณูุฉ

#### 1. `surveys` - ุงูุงุณุชุจูุงูุงุช
```sql
- id: ูุนุฑู ูุฑูุฏ
- title: ุนููุงู ุงูุงุณุชุจูุงู
- description: ูุตู ูุฎุชุตุฑ
- status: ุงูุญุงูุฉ (draft, active, paused, closed, archived)
- survey_type: ุงูููุน (general, membership, event, feedback, etc.)
- access_type: ููุน ุงููุตูู (public, authenticated, members_only)
- allow_multiple_responses: ุงูุณูุงุญ ุจุฅุฌุงุจุงุช ูุชุนุฏุฏุฉ
- allow_anonymous: ุงูุณูุงุญ ุจุงูุฅุฌุงุจุงุช ุงููุฌูููุฉ
- show_progress_bar: ุนุฑุถ ุดุฑูุท ุงูุชูุฏู
- start_date/end_date: ูุชุฑุฉ ุงูุงุณุชุจูุงู
- total_responses/total_completed: ุฅุญุตุงุฆูุงุช
```

#### 2. `survey_questions` - ุงูุฃุณุฆูุฉ
```sql
- id: ูุนุฑู ูุฑูุฏ
- survey_id: ูุนุฑู ุงูุงุณุชุจูุงู
- question_text: ูุต ุงูุณุคุงู
- question_type: ููุน ุงูุณุคุงู (25+ ููุน)
- question_order: ุชุฑุชูุจ ุงูุณุคุงู
- is_required: ุฅุฌุจุงุฑู ุฃู ูุง
- options: ุฎูุงุฑุงุช ุงูุณุคุงู (JSON)
- validation_rules: ููุงุนุฏ ุงูุชุญูู (JSON)
```

#### 3. `survey_responses` - ุงูุงุณุชุฌุงุจุงุช
```sql
- id: ูุนุฑู ูุฑูุฏ
- survey_id: ูุนุฑู ุงูุงุณุชุจูุงู
- user_id: ูุนุฑู ุงููุณุชุฎุฏู (nullable)
- is_anonymous: ูุฌููู ุฃู ูุง
- status: ุงูุญุงูุฉ (in_progress, completed, abandoned)
- progress_percentage: ูุณุจุฉ ุงูุชูุฏู
- started_at/completed_at: ุฃููุงุช ุงูุจุฏุก ูุงูุฅููุงู
- time_spent_seconds: ุงูููุช ุงููุณุชุบุฑู
```

#### 4. `survey_answers` - ุงูุฅุฌุงุจุงุช
```sql
- id: ูุนุฑู ูุฑูุฏ
- response_id: ูุนุฑู ุงูุงุณุชุฌุงุจุฉ
- question_id: ูุนุฑู ุงูุณุคุงู
- answer_text/answer_number/answer_date/answer_json: ุงูุฅุฌุงุจุฉ
- answered_at: ููุช ุงูุฅุฌุงุจุฉ
```

#### 5. ุฌุฏุงูู ุฅุถุงููุฉ
- `survey_sections`: ุฃูุณุงู ุงูุงุณุชุจูุงู
- `survey_templates`: ููุงูุจ ุฌุงูุฒุฉ
- `survey_shares`: ุฑูุงุจุท ุงููุดุงุฑูุฉ
- `survey_notifications`: ุฅุดุนุงุฑุงุช
- `survey_analytics`: ุชุญูููุงุช ูุชูุฏูุฉ

## ๐ ุงูุชุซุจูุช ูุงูุฅุนุฏุงุฏ

### 1. ุชุทุจูู ุงููุฌุฑุฉ ุนูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

```bash
# ุชุดุบูู ููู ุงููุฌุฑุฉ
psql -U your_user -d your_database -f supabase/migrations/049_surveys_system.sql
```

ุฃู ูู ููุญุฉ ุชุญูู Supabase:
1. ุงุฐูุจ ุฅูู SQL Editor
2. ุงูุณุฎ ูุญุชูู `049_surveys_system.sql`
3. ูููุฐ ุงูุงุณุชุนูุงู

### 2. ุงูุชุญูู ูู ุงููููุงุช

ุชุฃูุฏ ูู ูุฌูุฏ ุงููููุงุช ุงูุชุงููุฉ:

**ููุญุฉ ุงูุชุญูู:**
- `admin/js/surveys-manager.js` โ
- `admin/dashboard.html` (ูุญุฏูุซ) โ
- `admin/dashboard.js` (ูุญุฏูุซ) โ
- `admin/dashboard.css` (ูุญุฏูุซ) โ

**ูุงุฌูุฉ ุงููุณุชุฎุฏู:**
- `survey.html` โ
- `survey.css` โ
- `survey.js` โ

**ูุงุนุฏุฉ ุงูุจูุงูุงุช:**
- `supabase/migrations/049_surveys_system.sql` โ

## ๐ ุฏููู ุงูุงุณุชุฎุฏุงู

### ุฅูุดุงุก ุงุณุชุจูุงู ุฌุฏูุฏ

1. **ุงูุฏุฎูู ุฅูู ููุญุฉ ุงูุชุญูู**
   - ุงูุชุญ `admin/dashboard.html`
   - ุณุฌูู ุงูุฏุฎูู ุจุญุณุงุจ ูู ุตูุงุญูุงุช (ูุณุชูู 7+)

2. **ุงูุงูุชูุงู ุฅูู ูุณู ุงูุงุณุชุจูุงูุงุช**
   - ูู ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉุ ุงุฎุชุฑ "ุฅุฏุงุฑุฉ ุงูุงุณุชุจูุงูุงุช"
   - ุงุฎุชุฑ "ุฅูุดุงุก ุงุณุชุจูุงู"

3. **ููุก ูุนูููุงุช ุงูุงุณุชุจูุงู**
   - **ุงูุนููุงู**: ุนููุงู ูุงุถุญ ููุงุณุชุจูุงู
   - **ุงููุตู**: ูุตู ูุฎุชุตุฑ (ุงุฎุชูุงุฑู)
   - **ุงูููุน**: ุงุฎุชุฑ ููุน ุงูุงุณุชุจูุงู
   - **ููุน ุงููุตูู**: ุญุฏุฏ ูู ููููู ุงููุตูู
   - **ุงูุชูุงุฑูุฎ**: ุญุฏุฏ ูุชุฑุฉ ุงูุงุณุชุจูุงู (ุงุฎุชูุงุฑู)

4. **ุฅุถุงูุฉ ุงูุฃุณุฆูุฉ**
   - ุงุถุบุท "ุฅุถุงูุฉ ุณุคุงู"
   - ุงุฎุชุฑ ููุน ุงูุณุคุงู ูู 25+ ููุน ูุชุงุญ
   - ุฃุฏุฎู ูุต ุงูุณุคุงู
   - ุญุฏุฏ ุฅุฐุง ูุงู ุงูุณุคุงู ุฅุฌุจุงุฑูุงู
   - ุฃุถู ุงูุฎูุงุฑุงุช ุญุณุจ ููุน ุงูุณุคุงู

5. **ุญูุธ ููุดุฑ**
   - "ุญูุธ ููุณูุฏุฉ": ูุญูุธ ุงูุงุณุชุจูุงู ุฏูู ูุดุฑู
   - "ูุดุฑ ุงูุงุณุชุจูุงู": ููุดุฑู ูุจุงุดุฑุฉ

### ุฃููุงุน ุงูุฃุณุฆูุฉ ุงููุฏุนููุฉ

#### ูุตูุต
- **ูุต ูุตูุฑ**: ุฅุฌุงุจุฉ ูุตูุฉ ูุตูุฑุฉ
- **ูุต ุทููู**: ุฅุฌุงุจุฉ ูุตูุฉ ูุทููุฉ (paragraph)
- **ุจุฑูุฏ ุฅููุชุฑููู**: ุญูู ุจุฑูุฏ ุฅููุชุฑููู
- **ุฑูู ูุงุชู**: ุญูู ุฑูู ูุงุชู
- **ุฑุงุจุท URL**: ุญูู ุฑุงุจุท

#### ุงุฎุชูุงุฑุงุช
- **ุงุฎุชูุงุฑ ูุงุญุฏ**: Radio buttons
- **ุงุฎุชูุงุฑุงุช ูุชุนุฏุฏุฉ**: Checkboxes
- **ูุงุฆูุฉ ููุณุฏูุฉ**: Dropdown

#### ุชููููุงุช
- **ุชูููู ุจุงููุฌูู**: โญโญโญโญโญ
- **ุชูููู ุจุงููููุจ**: โค๏ธโค๏ธโค๏ธโค๏ธโค๏ธ
- **ุชูููู ุจุงูุฅูููุฌู**: ๐๐๐๐๐ข

#### ููุงููุณ
- **ูููุงุณ ุฎุทู**: 1-5 ุฃู 1-10
- **ุดุฑูุท ููุฒูู**: Slider
- **ูููุงุณ ุงูููุงููุฉ**: ููุงูู ุจุดุฏุฉ...ุบูุฑ ููุงูู ุจุดุฏุฉ
- **NPS**: Net Promoter Score

#### ุชูุงุฑูุฎ ูุฃุฑูุงู
- **ุชุงุฑูุฎ**: Date picker
- **ููุช**: Time picker
- **ุชุงุฑูุฎ ูููุช**: DateTime picker
- **ุฑูู**: Number input

#### ุฃุฎุฑู
- **ูุนู/ูุง**: Yes/No
- **ุฑูุน ููู**: File upload (ูุณุชูุจูุงู)

### ุนุฑุถ ุงููุชุงุฆุฌ

1. ูู ูุณู "ูุชุงุฆุฌ ุงูุงุณุชุจูุงูุงุช"
2. ุงุฎุชุฑ ุงูุงุณุชุจูุงู ูู ุงููุงุฆูุฉ
3. ุดุงูุฏ:
   - ุฅุญุตุงุฆูุงุช ุนุงูุฉ (ุนุฏุฏ ุงูุงุณุชุฌุงุจุงุชุ ูุนุฏู ุงูุฅููุงู)
   - ูุชุงุฆุฌ ูู ุณุคุงู ุจุดูู ูุฑุฆู
   - ุฑุณูู ุจูุงููุฉ ููุงุฎุชูุงุฑุงุช
   - ูุชูุณุทุงุช ููุฃุฑูุงู ูุงูุชููููุงุช
   - ูุงุฆูุฉ ุงูุฅุฌุงุจุงุช ุงููุตูุฉ

### ูุดุงุฑูุฉ ุงูุงุณุชุจูุงู

1. ูู ูุงุฆูุฉ ุงูุงุณุชุจูุงูุงุชุ ุงุถุบุท ุฃููููุฉ "ูุดุงุฑูุฉ"
2. ุณูุชู ูุณุฎ ุงูุฑุงุจุท ุชููุงุฆูุงู
3. ุดุงุฑู ุงูุฑุงุจุท: `https://yoursite.com/survey.html?id=123`

## ๐จ ุงูุชุฎุตูุต

### ุชุฎุตูุต ุงูุฃููุงู

ูู `survey.css`:
```css
:root {
    --main-blue: #274060;      /* ุงูููู ุงูุฃุณุงุณู */
    --accent-blue: #3d8fd6;    /* ุงูููู ุงูุซุงููู */
    --gold: #d4af37;           /* ุงูุฐูุจู */
}
```

### ุชุฎุตูุต ุงูุฎุทูุท

ุงูุฎุทูุท ุงููุณุชุฎุฏูุฉ:
- **Lyon Arabic**: ูููุตูุต ุงูุนุฑุจูุฉ
- **ERAS**: ููุฃุฑูุงู

## ๐ง ุงูุฏูุงู ุงููุณุงุนุฏุฉ

### ุฏูุงู SQL ูููุฏุฉ

```sql
-- ุงูุญุตูู ุนูู ูุชุงุฆุฌ ุณุคุงู ูุญุฏุฏ
SELECT * FROM get_question_results(question_id);

-- ุงูุญุตูู ุนูู ูุนุฏู ุงูุฅููุงู
SELECT get_survey_completion_rate(survey_id);

-- ุฅูุดุงุก ุฑุงุจุท ูุดุงุฑูุฉ ูุฑูุฏ
SELECT generate_survey_share_token();
```

### ุฏูุงู JavaScript

```javascript
// ุชุญููู ุฌููุน ุงูุงุณุชุจูุงูุงุช
await window.surveysManager.loadAllSurveys();

// ุฅูุดุงุก ุงุณุชุจูุงู ุฌุฏูุฏ
window.surveysManager.navigateToCreate();

// ุนุฑุถ ูุชุงุฆุฌ ุงุณุชุจูุงู
await window.surveysManager.viewResults(surveyId);
```

## ๐ Views (ุทุฑู ุงูุนุฑุถ)

### `surveys_overview`
ุนุฑุถ ุดุงูู ููุงุณุชุจูุงูุงุช ูุน ุงูุฅุญุตุงุฆูุงุช:
```sql
SELECT * FROM surveys_overview;
```

### `survey_responses_detailed`
ุนุฑุถ ุชูุตููู ููุงุณุชุฌุงุจุงุช:
```sql
SELECT * FROM survey_responses_detailed WHERE survey_id = 123;
```

## ๐ ุงูุฃูุงู (RLS Policies)

ุงููุธุงู ูุณุชุฎุฏู Row Level Security ูุญูุงูุฉ ุงูุจูุงูุงุช. ูููู ุฅุถุงูุฉ ุณูุงุณุงุช RLS ูุณุชูุจูุงู ุญุณุจ ุงูุญุงุฌุฉ.

ูุซุงู ูุฅุถุงูุฉ ุณูุงุณุฉ:
```sql
CREATE POLICY "surveys_select_public" ON public.surveys
    FOR SELECT
    USING (status = 'active' AND access_type = 'public');
```

## ๐ ุงูุชุทููุฑ ุงููุณุชูุจูู

### ููุฒุงุช ูุฎุทุท ููุง:
- โ ูุธุงู ุงูููุงูุจ ุงูุฌุงูุฒุฉ
- โ ุงูููุทู ุงูุดุฑุทู ููุฃุณุฆูุฉ
- โ ุงูุชูุฑุน ูู ุงูุงุณุชุจูุงู
- โ ุฑูุน ุงููููุงุช
- โ ุงูุชูููุน ุงูุฅููุชุฑููู
- โ ุงููููุน ุงูุฌุบุฑุงูู
- โ ุชุตุฏูุฑ ุงููุชุงุฆุฌ (PDF, Excel)
- โ ุฅุดุนุงุฑุงุช ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
- โ ุฌุฏููุฉ ุงูุงุณุชุจูุงูุงุช

### ุงูุฑุจุท ุงููุณุชูุจูู:
- ุฑุจุท ุงูุงุณุชุจูุงูุงุช ุจุงููุฌุงู
- ุฑุจุท ุจูุฑุงุญู ุงูุนุถููุฉ
- ุฑุจุท ุจุงูุตูุงุญูุงุช ูุงูุฃุฏูุงุฑ
- ุฑุจุท ุจุงููุดุงุฑูุน ูุงููุนุงููุงุช

## ๐ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุงููุดููุฉ: ุงูุงุณุชุจูุงู ูุง ูุธูุฑ
**ุงูุญู:**
1. ุชุญูู ูู ุญุงูุฉ ุงูุงุณุชุจูุงู (ูุฌุจ ุฃู ุชููู `active`)
2. ุชุญูู ูู ุชูุงุฑูุฎ ุงูุจุฏุก ูุงูุงูุชูุงุก
3. ุชุญูู ูู ููุน ุงููุตูู

### ุงููุดููุฉ: ูุง ูููู ุญูุธ ุงูุฅุฌุงุจุงุช
**ุงูุญู:**
1. ุชุญูู ูู ุงุชุตุงู ูุงุนุฏุฉ ุงูุจูุงูุงุช
2. ุชุญูู ูู ุตูุงุญูุงุช ุงูุฌุฏุงูู
3. ุฑุงุฌุน console ููุฃุฎุทุงุก

### ุงููุดููุฉ: ุงููุชุงุฆุฌ ูุง ุชุธูุฑ
**ุงูุญู:**
1. ุชุญูู ูู ูุฌูุฏ ุงุณุชุฌุงุจุงุช ููุชููุฉ
2. ุชุญูู ูู ุตูุงุญูุงุช ุงููุฑุงุกุฉ
3. ุญุฏูุซ ุงูุตูุญุฉ

## ๐ ุงูุฏุนู ูุงููุณุงุนุฏุฉ

ูููุณุงุนุฏุฉ ุฃู ุงูุฅุจูุงุบ ุนู ูุดุงูู:
- ุฑุงุฌุน ููู `SYSTEM_OVERVIEW.md` ูููุธุงู ุงูุนุงู
- ุฑุงุฌุน ููู `SETUP_GUIDE.md` ููุฅุนุฏุงุฏ
- ุชุญูู ูู console ุงููุชุตูุญ ููุฃุฎุทุงุก

## ๐ ููุงุญุธุงุช ูููุฉ

1. **ุงููุธุงู ูุณุชูู**: ูุง ูุนุชูุฏ ุญุงููุงู ุนูู ุฃู ุฃูุธูุฉ ุฃุฎุฑู
2. **ูุงุจู ููุชูุณุน**: ูุตูู ููุฑุจุท ุงููุณุชูุจูู ุฏูู ุฅุนุงุฏุฉ ููููุฉ
3. **ุขูู**: ูุณุชุฎุฏู RLS ูุชุญูู ุตุงุฑู ูู ุงููุฏุฎูุงุช
4. **ูุชูุงูู**: ูุนูู ูุน ุฌููุน ุงููุชุตูุญุงุช ุงูุญุฏูุซุฉ
5. **ุณุฑูุน**: ูุญุณูู ููุฃุฏุงุก ูุน ููุฑุณุฉ ูุงููุฉ

## โ ูุงุฆูุฉ ุงูุชุญูู ุงูููุงุฆูุฉ

- [x] ุชุทุจูู ููู ุงููุฌุฑุฉ ุนูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- [x] ุงูุชุญูู ูู ูุฌูุฏ ุฌููุน ุงููููุงุช
- [x] ุงุฎุชุจุงุฑ ุฅูุดุงุก ุงุณุชุจูุงู
- [x] ุงุฎุชุจุงุฑ ุงูุฅุฌุงุจุฉ ุนูู ุงุณุชุจูุงู
- [x] ุงุฎุชุจุงุฑ ุนุฑุถ ุงููุชุงุฆุฌ
- [x] ุงูุชุญูู ูู ุงูุชุตููู ุนูู ุงูุฌูุงู
- [x] ุงูุชุญูู ูู ุงูุฃูุงู ูุงูุตูุงุญูุงุช

---

**ุชู ุชุทููุฑ ุงููุธุงู ุจูุงุณุทุฉ:** Cascade AI  
**ุงูุชุงุฑูุฎ:** 2026-01-27  
**ุงูุฅุตุฏุงุฑ:** 1.0.0  
**ุงูุญุงูุฉ:** โ ุฌุงูุฒ ููุฅูุชุงุฌ
